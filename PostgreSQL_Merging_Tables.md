# Объединение таблиц в PostgreSQL

Объединение таблиц позволяет получать данные из нескольких таблиц в одном запросе. Это достигается с помощью операторов соединения (JOIN). Наиболее распространенные типы соединений — это `INNER JOIN` и `LEFT JOIN`.

## 1. INNER JOIN

`INNER JOIN` объединяет строки из обеих таблиц только тогда, когда выполняется условие соединения. Это означает, что в результирующем наборе данных будут только те строки, которые имеют совпадения в обеих таблицах.

### Пример использования INNER JOIN

```sql
SELECT *  -- Извлекаем все столбцы из обеих таблиц
FROM orders  -- Основная таблица, например, заказы
INNER JOIN customers ON orders.customer_id = customers.id;  -- Соединяем таблицы orders и customers по идентификатору клиента
```

### Пояснение:
- `FROM orders` — указываем основную таблицу, из которой будем извлекать данные.
- `INNER JOIN customers` — указываем таблицу, которую хотим объединить с основной таблицей.
- `ON orders.customer_id = customers.id` — устанавливаем условие соединения. В данном случае мы соединяем заказы с клиентами по идентификатору клиента. Результат будет содержать только те заказы, для которых существуют соответствующие клиенты.

## 2. LEFT JOIN

`LEFT JOIN` возвращает все строки из первой таблицы и совпадающие строки из второй таблицы. Если совпадения не найдены, в результирующем наборе данных будут присутствовать значения `NULL` для столбцов второй таблицы.

### Пример использования LEFT JOIN

```sql
SELECT *  -- Извлекаем все столбцы из обеих таблиц
FROM orders  -- Основная таблица, например, заказы
LEFT JOIN customers ON orders.customer_id = customers.id;  -- Соединяем таблицы orders и customers по идентификатору клиента
```

### Пояснение:
- `FROM orders` — указываем основную таблицу.
- `LEFT JOIN customers` — указываем таблицу, которую хотим объединить с основной.
- `ON orders.customer_id = customers.id` — устанавливаем условие соединения, аналогично `INNER JOIN`.

### Особенности LEFT JOIN:
- Если у заказа нет соответствующего клиента в таблице `customers`, то в результирующем наборе данных для столбцов `customers` будут присутствовать значения `NULL`.
- Это полезно, когда необходимо получить все заказы, даже если некоторые из них не имеют соответствующих записей в таблице клиентов.

## 3. Пример объединения таблиц

```sql
SELECT orders.order_id, customers.username, orders.order_date  -- Извлекаем конкретные столбцы
FROM orders  -- Основная таблица
LEFT JOIN customers ON orders.customer_id = customers.id;  -- Используем LEFT JOIN для получения всех заказов
```

В этом примере мы извлекаем идентификаторы заказов, имена клиентов и даты заказов. Мы используем `LEFT JOIN`, чтобы получить все заказы, даже если некоторые из них не имеют соответствующих записей в таблице клиентов. Если для какого-то заказа нет клиента, имя клиента будет `NULL`.

## Заключение

Объединение таблиц — мощный инструмент для извлечения данных из нескольких источников. Используя `INNER JOIN`, вы получаете только те строки, которые имеют совпадения, в то время как `LEFT JOIN` позволяет получить все строки из основной таблицы с возможностью наличия `NULL` для отсутствующих данных из соединенной таблицы.
